package sqliteDataBase.Bll;

import sqliteDataBase.DatabaseHelper;
import android.content.ContentValues;
import android.content.Context;
import android.database.Cursor;
import android.database.sqlite.SQLiteDatabase;
import android.util.Log;

public class Unforget {
	private DatabaseHelper helper;
	private SQLiteDatabase db;
	
	public Unforget(Context context){
		helper = new DatabaseHelper(context);
        db = helper.getWritableDatabase();
	}
	
	public int insert(sqliteDataBase.Model.Unforget modelUnforget){
		ContentValues values = new ContentValues(); 
		values.put("year", modelUnforget.getYear());
		values.put("month",modelUnforget.getMonth());
		values.put("day", modelUnforget.getDay());
		values.put("hour", modelUnforget.getHour());
		values.put("minute", modelUnforget.getMinute());
		values.put("second", modelUnforget.getSecond());
		values.put("name", modelUnforget.getName());
		values.put("soundFileName", modelUnforget.getSoundFileName());
		
		db.insert("tableUnforget", null, values); 
		return 0;
	}
	
	public int update(sqliteDataBase.Model.Unforget modelUnforget){
		
		Log.i("tagdfgdf", "更新数据："+ modelUnforget.getId());
		
		ContentValues values = new ContentValues(); 
		values.put("id", modelUnforget.getId());
		values.put("year", modelUnforget.getYear());
		values.put("month",modelUnforget.getMonth());
		values.put("day", modelUnforget.getDay());
		values.put("hour", modelUnforget.getHour());
		values.put("minute", modelUnforget.getMinute());
		values.put("second", modelUnforget.getSecond());
		values.put("name", modelUnforget.getName());
		values.put("soundFileName", modelUnforget.getSoundFileName());
		
		db.update("tableUnforget", values, "id=",new Object[]{String.valueOf(modelUnforget.getId())});
		return 0;
	}
	public Cursor query()
    {
        Cursor c=db.query("tableUnforget", null, null, null, null, null, null);
        return c;
    }

	
	public int delete(int id){
		Log.i("tag", "删除数据："+id);
		db.delete("tableUnforget", "id=?",new String[]{String.valueOf(id)});
		return 0;
	}
	public int getMaxId(){
		int maxid=0;
		Cursor cr = db.rawQuery("select last_insert_rowid() from tableUnforget;", null);  
		if(cr.moveToFirst())  
			maxid  = cr.getInt(0); 
		return maxid;
	}
}
